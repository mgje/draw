function move(t,e){this.update(t-(this.dx||0),e-(this.dy||0)),this.dx=t,this.dy=e}function up(){this.dx=this.dy=0}function createOn(t,e,n){var r=document.createElementNS(t.namespaceURI,e);for(var a in n)r.setAttribute(a,n[a]);return t.appendChild(r),r}function outerHTML(t){return t.outerHTML||function(t){var e,n=document.createElement("div");return n.appendChild(t.cloneNode(!0)),e=n.innerHTML,n=null,e}(t)}function update_Kurve_SVG(t,e,n){var r=S('<svg height="420" version="1.1" width="620" xmlns="http://www.w3.org/2000/svg">').escapeHTML().s,a=t.getById(e).node;r+=S(outerHTML(a)).escapeHTML().s,r+=S("</svg>").escapeHTML().s,document.getElementById(n).innerHTML=r}function update_NodeList_SVG(t,e){for(var n=S('<svg height="420" width="620" xmlns="http://www.w3.org/2000/svg" version="1.1">').escapeHTML().s,r=0,a=t.length;a>r;r+=1)n+=S(outerHTML(t[r].node)).escapeHTML().s;n+=S("</svg>").escapeHTML().s,document.getElementById(e).innerHTML=n}function update_NodeList_SVG_xlink(t,e){for(var n=S('<svg height="420" width="620" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">').escapeHTML().s,r=0,a=t.length;a>r;r+=1)n+=S(outerHTML(t[r].node)).escapeHTML().s;n+=S("</svg>").escapeHTML().s,document.getElementById(e).innerHTML=n}function SVGKreis(t){var e="object"==typeof t.r?t.r:null,n="string"==typeof t.id?t.id:null,r="number"==typeof t.x?t.x:null,a="number"==typeof t.y?t.y:null,i={fill:"none","stroke-width":4,stroke:"hsb(.9, .75, .75)"},o={fill:"#fff",stroke:"none"},c=null,s=20,u=-1,d=-1,l=-1,m=null,v="",h=[],g=[],p=null,f=[];"string"==typeof n&&"number"==typeof r&&"number"==typeof a&&(e=Raphael(n,r,a));for(var y=e.canvas.childNodes;y.length>2;)e.canvas.removeChild(y[2]);e.rect(0,0,619,419,10).attr({fill:"#000",stroke:"#666"}),v=document.getElementById("choose-AnzKreise").getAttribute("data-kreise"),s=Number.parseInt(v);for(var b=function(t,e){var n=this.attr("cx")+t,r=this.attr("cy")+e,a=-f[this.idnum].attr("r")+r;this.attr({cx:n,cy:r}),f[this.idnum].attr({cx:n,cy:r}),g[this.idnum].attr({cx:n,cy:a}),update_NodeList_SVG(f,"SVGSourceKreis")},S=function(t,e){var n=this.attr("cy")+e,r=f[this.idnum].attr("cy"),a=r-n;f[this.idnum].attr({r:a}),this.attr({cy:n}),update_NodeList_SVG(f,"SVGSourceKreis")},k=0;s>k;k+=1)d=Math.round(300*Math.random())+150,l=Math.round(300*Math.random())+70,u=Math.round(70*Math.random())+30,i.stroke="hsb("+.05*k+"0.3, .75, .75)",c=e.circle(d,l,u).attr(i),c.node.removeAttributeNode(c.node.getAttributeNode("style")),f.push(c),m=e.circle(d,l,5).attr(o),m.idnum=k,h.push(m),m.update=b,m=e.circle(d,l-u,5).attr(o),m.idnum=k,g.push(m),m.update=S;return p=e.set(h),p.drag(move,up),p=e.set(g),p.drag(move,up),update_NodeList_SVG(f,"SVGSourceKreis"),e}function SVGVielEck(t){var e="object"==typeof t.r?t.r:null,n="string"==typeof t.id?t.id:null,r="number"==typeof t.x?t.x:null,a="number"==typeof t.y?t.y:null,i=[],o={fill:"#fff",stroke:"none"},c=[],s=null,u=null,d=[];"string"==typeof n&&"number"==typeof r&&"number"==typeof a&&(e=Raphael(n,r,a));for(var l=e.canvas.childNodes;l.length>2;)e.canvas.removeChild(l[2]);for(var m=document.getElementById("choose-figure").getAttribute("data-ecken"),v=Number.parseInt(m),h=0;v>h;h+=1){var g={};g.x=Math.round(200*Math.cos(2*Math.PI/v*h)+300),g.y=Math.round(200*Math.sin(2*Math.PI/v*h)+210),i.push(g)}for(e.rect(0,0,619,419,10).attr({fill:"#000",stroke:"#666"}),h=0,num=i.length;num>h;h+=1)d.push(0===h?"M":"L"),d.push(i[h].x),d.push(i[h].y);d.push("Z"),s=e.path(d).attr({stroke:"hsb(.6, .75, .75)","stroke-width":4,"stroke-linecap":"round"});var p=function(t,n){var r=this.attr("cx")+t,a=this.attr("cy")+n;this.attr({cx:r,cy:a}),d[3*this.idnum+1]=r,d[3*this.idnum+2]=a,s.attr({path:d}),update_Kurve_SVG(e,s.id,"SVGSourceVieleck")};for(h=0,num=i.length;num>h;h+=1){var f=e.circle(i[h].x,i[h].y,5).attr(o);c.push(f),f.idnum=h,f.update=p}return u=e.set(c),u.drag(move,up),s.node.removeAttributeNode(s.node.getAttributeNode("style")),update_Kurve_SVG(e,s.id,"SVGSourceVieleck"),e}function SVGDiagramm(){var t=Raphael("SVGDiagramm",620,420),e=[{x:50,y:250},{x:100,y:100},{x:150,y:150},{x:200,y:140},{x:250,y:250},{x:300,y:200},{x:350,y:180},{x:400,y:230}],n=null,r=["M",e[0].x,e[0].y,"R"],a={fill:"#fff",stroke:"none"},i=t.set();t.rect(0,0,619,419,10).attr({fill:"#000",stroke:"#666"});for(var o=0,c=e.length;c>o;o+=1){var s=e[o];i.push(t.circle(s.x,s.y,5))}for(i.attr(a),o=1,c=e.length;c>o;o+=1)r.push(e[o].x),r.push(e[o].y);n=t.path(r).attr({stroke:"hsb(.6, .75, .75)","stroke-width":4,"stroke-linecap":"round"}),n.node.removeAttributeNode(n.node.getAttributeNode("style")),update_Kurve_SVG(t,n.id,"SVGSourceDiagramm")}function SVGKurve(){function t(t,r,a,i,o,c,s,u,d){var l=[["M",t,r],["C",a,i,o,c,s,u]],m=[["M",t,r],["L",a,i],["M",o,c],["L",s,u]],v=e.path(l).attr({stroke:d||Raphael.getColor(),"stroke-width":4,"stroke-linecap":"round"}),h=e.set(e.path(m).attr({stroke:"#ccc","stroke-dasharray":". "}),e.circle(t,r,5).attr(n),e.circle(a,i,5).attr(n),e.circle(o,c,5).attr(n),e.circle(s,u,5).attr(n));v.node.removeAttributeNode(v.node.getAttributeNode("style")),update_Kurve_SVG(e,v.id,"SVGSourceKurve"),h[1].update=function(t,n){var r=this.attr("cx")+t,a=this.attr("cy")+n;this.attr({cx:r,cy:a}),l[0][1]=r,l[0][2]=a,m[0][1]=r,m[0][2]=a,h[2].update(t,n),update_Kurve_SVG(e,v.id,"SVGSourceKurve")},h[2].update=function(t,n){var r=this.attr("cx")+t,a=this.attr("cy")+n;this.attr({cx:r,cy:a}),l[1][1]=r,l[1][2]=a,m[1][1]=r,m[1][2]=a,v.attr({path:l}),h[0].attr({path:m}),update_Kurve_SVG(e,v.id,"SVGSourceKurve")},h[3].update=function(t,n){var r=this.attr("cx")+t,a=this.attr("cy")+n;this.attr({cx:r,cy:a}),l[1][3]=r,l[1][4]=a,m[2][1]=r,m[2][2]=a,v.attr({path:l}),h[0].attr({path:m}),update_Kurve_SVG(e,v.id,"SVGSourceKurve")},h[4].update=function(t,n){var r=this.attr("cx")+t,a=this.attr("cy")+n;this.attr({cx:r,cy:a}),l[1][5]=r,l[1][6]=a,m[3][1]=r,m[3][2]=a,h[3].update(t,n),update_Kurve_SVG(e,v.id,"SVGSourceKurve")},h.drag(move,up)}var e=Raphael("SVGKurve",620,420),n={fill:"#fff",stroke:"none"};e.rect(0,0,619,419,10).attr({fill:"#000",stroke:"#666"}),t(70,100,261,62,237,289,486,259,"hsb(0, .75, .75)")}function SVGKurve2(){function t(t,r,a,i,o,c,s,u,d,l,m,v,h,g,p){var f=[["M",t,r],["C",a,i,o,c,s,u,d,l,m,v,h,g]],y=[["M",t,r],["L",a,i],["M",o,c],["L",s,u],["M",s,u],["L",d,l],["M",m,v],["L",h,g]],b=e.path(f).attr({stroke:p||Raphael.getColor(),"stroke-width":4,"stroke-linecap":"round"}),S=e.set(e.path(y).attr({stroke:"#ccc","stroke-dasharray":". "}),e.circle(t,r,5).attr(n),e.circle(a,i,5).attr(n),e.circle(o,c,5).attr(n),e.circle(s,u,5).attr(n),e.circle(d,l,5).attr(n),e.circle(m,v,5).attr(n),e.circle(h,g,5).attr(n));b.node.removeAttributeNode(b.node.getAttributeNode("style")),update_Kurve_SVG(e,b.id,"SVGSourceKurve2"),S[1].update=function(t,n){var r=this.attr("cx")+t,a=this.attr("cy")+n;this.attr({cx:r,cy:a}),f[0][1]=r,f[0][2]=a,y[0][1]=r,y[0][2]=a,S[2].update(t,n),update_Kurve_SVG(e,b.id,"SVGSourceKurve2")},S[2].update=function(t,n){var r=this.attr("cx")+t,a=this.attr("cy")+n;this.attr({cx:r,cy:a}),f[1][1]=r,f[1][2]=a,y[1][1]=r,y[1][2]=a,b.attr({path:f}),S[0].attr({path:y}),update_Kurve_SVG(e,b.id,"SVGSourceKurve2")},S[3].update=function(t,n){var r=this.attr("cx")+t,a=this.attr("cy")+n;this.attr({cx:r,cy:a}),f[1][3]=r,f[1][4]=a,y[2][1]=r,y[2][2]=a,b.attr({path:f}),S[0].attr({path:y}),update_Kurve_SVG(e,b.id,"SVGSourceKurve2")},S[4].update=function(t,n){var r=this.attr("cx")+t,a=this.attr("cy")+n;this.attr({cx:r,cy:a}),f[1][5]=r,f[1][6]=a,y[3][1]=r,y[3][2]=a,y[4][1]=r,y[4][2]=a,S[3].update(t,n),S[5].update(t,n),update_Kurve_SVG(e,b.id,"SVGSourceKurve2")},S[5].update=function(t,n){var r=this.attr("cx")+t,a=this.attr("cy")+n;this.attr({cx:r,cy:a}),f[1][7]=r,f[1][8]=a,y[5][1]=r,y[5][2]=a,b.attr({path:f}),S[0].attr({path:y}),update_Kurve_SVG(e,b.id,"SVGSourceKurve2")},S[6].update=function(t,n){var r=this.attr("cx")+t,a=this.attr("cy")+n;this.attr({cx:r,cy:a}),f[1][9]=r,f[1][10]=a,y[6][1]=r,y[6][2]=a,b.attr({path:f}),S[0].attr({path:y}),update_Kurve_SVG(e,b.id,"SVGSourceKurve2")},S[7].update=function(t,n){var r=this.attr("cx")+t,a=this.attr("cy")+n;this.attr({cx:r,cy:a}),f[1][11]=r,f[1][12]=a,y[7][1]=r,y[7][2]=a,S[6].update(t,n),update_Kurve_SVG(e,b.id,"SVGSourceKurve2")},S.drag(move,up)}var e=Raphael("SVGKurve2",620,420),n={fill:"#fff",stroke:"none"};e.rect(0,0,619,419,10).attr({fill:"#000",stroke:"#666"}),t(70,100,261,62,75,349,271,220,402,122,320,345,470,278,"hsb(.6, .75, .75)")}function SVGTransformation(t){var e="object"==typeof t.r?t.r:null,n="string"==typeof t.id?t.id:null,r="number"==typeof t.x?t.x:null,a="number"==typeof t.y?t.y:null,i=null,o=null,c=null,s=null,u=null,d=180,l=110,m=166,v=205,h={fill:"#fff",stroke:"none"},g=0,p=[];for("string"==typeof n&&"number"==typeof r&&"number"==typeof a&&(e=Raphael(n,r,a)),s=e.canvas.childNodes;s.length>2;)e.canvas.removeChild(s[2]);if(e.rect(0,0,619,419,10).attr({fill:"#000",stroke:"#666"}),e.path([["M",150,360],["L",450,360]]).attr({stroke:"#ccc","stroke-dasharray":". "}),o=e.image("http://mgje.github.io/draw/images/biber.png",d,l,m,v),o.node.removeAttributeNode(o.node.getAttributeNode("preserveAspectRatio")),i=document.getElementById("choose-transformation").getAttribute("transformation"),p.push(o),"n"!==i){c=o.clone(),c.node.removeAttributeNode(c.node.getAttributeNode("style")),c.node.removeAttributeNode(c.node.getAttributeNode("preserveAspectRatio")),c.transform(i),p.push(c),o.attr({opacity:.3});var f=i.split(",");g="T"===f[0][0]?parseFloat(f[0].substring(1,f[0].length))/2+300:"R"===f[0][0]?parseFloat(f[0].substring(1,f[0].length))+300:"m"===f[0][0]?319.5:300,u=e.set(e.circle(g,360,5).attr(h));{document.getElementById("choose-transformation").getAttribute("transformation")}u[0].update=function(t){var e=null,n=null,r=null;"T"===i[0]&&(r=this.attr("cx")+t,450>r&&r>150&&this.attr({cx:r}),n="T"+2*(r-300)+",0",c.transform(n),e="Verschieben um "+2*(r-300)+" Pixel",document.getElementById("message_trans").textContent=e),"R"===i[0]&&(r=this.attr("cx")+t,450>r&&r>150&&this.attr({cx:r}),n="R"+(r-300),c.transform(n),e="Drehen um "+(r-300)+" Grad",document.getElementById("message_trans").textContent=e),"S-"===i.substring(0,2)&&(r=this.attr("cx")+t,450>r&&r>150&&this.attr({cx:r}),n="S-1.0,1.0,T"+(r-300)+",0",c.transform(n),e="Horizontal spiegeln an x="+(r-300),document.getElementById("message_trans").textContent=e),"S1"===i.substring(0,2)&&(r=this.attr("cx")+t,450>r&&r>150&&this.attr({cx:r}),n="S1.0,-1.0,T0,"+(r-300),c.transform(n),e="Horizontal spiegeln an y="+(300-r),document.getElementById("message_trans").textContent=e),"m, 1, 0, "===i.substring(0,9)&&(r=this.attr("cx")+t,450>r&&r>150&&this.attr({cx:r}),n="m, 1, 0,"+(r-300)/150+", 1, 0, 0",c.transform(n),e="Verzerren um sx="+(300-r)/150,document.getElementById("message_trans").textContent=e),"m, 1, 0.1"===i.substring(0,9)&&(r=this.attr("cx")+t,450>r&&r>150&&this.attr({cx:r}),n="m, 1, "+(r-300)/150+",0, 1, 0, 0",c.transform(n),e="Verzerren um sy="+(300-r)/150,document.getElementById("message_trans").textContent=e),update_NodeList_SVG_xlink(p,"SVGSourceTransformation")},u.drag(move,up)}return o.node.removeAttributeNode(o.node.getAttributeNode("style")),update_NodeList_SVG_xlink(p,"SVGSourceTransformation"),e}function SVGAnimation(t){var e="object"==typeof t.r?t.r:null,n="string"==typeof t.id?t.id:null,r="number"==typeof t.x?t.x:null,a="number"==typeof t.y?t.y:null,i=null,o=null,c=70,s=130,u=166,d=205,l="",m=[];for("string"==typeof n&&"number"==typeof r&&"number"==typeof a&&(e=Raphael(n,r,a)),o=e.canvas.childNodes;o.length>2;)e.canvas.removeChild(o[2]);return e.rect(0,0,619,419,10).attr({fill:"#000",stroke:"#666"}),i=e.image("http://mgje.github.io/draw/images/biber.png",c,s,u,d),l=document.getElementById("ani_rechts").className,"selected"===l&&createOn(i.node,"animate",{attributeType:"XML",begin:"click",attributeName:"x",from:c,to:"630",dur:"1.3s",fill:"freeze"}),l=document.getElementById("ani_unten").className,"selected"===l&&createOn(i.node,"animate",{attributeType:"XML",begin:"click",attributeName:"y",from:s,to:"630",dur:"2.3s",fill:"freeze"}),l=document.getElementById("ani_dicker").className,"selected"===l&&createOn(i.node,"animate",{attributeType:"XML",begin:"click",attributeName:"width",from:u,to:2.4*u,dur:"3.3s",fill:"freeze"}),l=document.getElementById("ani_kleiner").className,"selected"===l&&createOn(i.node,"animate",{attributeType:"XML",begin:"click",attributeName:"height",from:d,to:d/3,dur:"3.3s",fill:"freeze"}),l=document.getElementById("ani_rot").className,"selected"===l&&createOn(i.node,"animateTransform",{begin:"click",attributeType:"XML",attributeName:"transform",type:"rotate",from:"0 153 232",to:"359.9 153 232",repeatCount:"indefinite",additive:"sum",dur:"3.3s",fill:"freeze"}),l=document.getElementById("ani_pfad").className,"selected"===l&&createOn(i.node,"animateMotion",{path:"m-50,0 q150,150, 260,0 q150,-240 260,0",repeatCount:"indefinite",begin:"click",dur:"2.3s",fill:"freeze"}),m.push(i),i.node.removeAttributeNode(i.node.getAttributeNode("style")),update_NodeList_SVG_xlink(m,"SVGSourceAnimation"),e}function buttonActionanimation(t){t.preventDefault&&t.preventDefault(),t.returnValue=!1;{var e=document.getElementById("SVGSourceAnimation").textContent,n="data:image/svg+xml,"+encodeURIComponent(e);window.open(n,"animation.svg")}}function buttonActiontransformation(t){t.preventDefault&&t.preventDefault(),t.returnValue=!1;{var e=document.getElementById("SVGSourceTransformation").textContent,n="data:image/svg+xml,"+encodeURIComponent(e);window.open(n,"transformation.svg")}}function buttonActionkreis(t){t.preventDefault&&t.preventDefault(),t.returnValue=!1;{var e=document.getElementById("SVGSourceKreis").textContent,n="data:image/svg+xml,"+encodeURIComponent(e);window.open(n,"kreis.svg")}}function buttonActionvieleck(t){t.preventDefault&&t.preventDefault(),t.returnValue=!1;var e='<svg height="420" version="1.1" width="620" xmlns="http://www.w3.org/2000/svg">';e+=outerHTML(document.getElementById("SVGVieleck").getElementsByTagName("path")[0]),e+="</svg>";{var n="data:image/svg+xml,"+encodeURIComponent(e);window.open(n,"vieleck.svg")}}function buttonActionkurve2(t){t.preventDefault&&t.preventDefault(),t.returnValue=!1;var e='<svg height="420" version="1.1" width="620" xmlns="http://www.w3.org/2000/svg">';e+=outerHTML(document.getElementById("SVGKurve2").getElementsByTagName("path")[0]),e+="</svg>";{var n="data:image/svg+xml,"+encodeURIComponent(e);window.open(n,"kurve2.svg")}}function buttonActionkurve(t){t.preventDefault&&t.preventDefault(),t.returnValue=!1;var e='<svg height="420" version="1.1" width="620" xmlns="http://www.w3.org/2000/svg">';e+=outerHTML(document.getElementById("SVGKurve").getElementsByTagName("path")[0]),e+="</svg>";{var n="data:image/svg+xml,"+encodeURIComponent(e);window.open(n,"kurve.svg")}}function buttonActionvideo(t){t.preventDefault&&t.preventDefault(),t.returnValue=!1;var e=document.getElementById("video1"),n=document.getElementById("buttonvideo");e.paused?(e.play(),n.textContent="||  Pause"):(e.pause(),n.textContent="> Start")}function secondNavAction(t){for(var e=t.currentTarget.getElementsByTagName("a"),n=0,r=e.length;r>n;n+=1)if("selected"===e[n].className){e[n].className="";break}t.target.className="selected",t.currentTarget.setAttribute("data-ecken",t.target.getAttribute("anz-ecken")),rvieleck=SVGVielEck({r:rvieleck})}function secondNavActionKreise(t){if("A"===t.target.tagName){for(var e=t.currentTarget.getElementsByTagName("a"),n=0,r=e.length;r>n;n+=1)if("selected"===e[n].className){e[n].className="";break}t.target.className="selected",t.currentTarget.setAttribute("data-kreise",t.target.getAttribute("anz-kreis")),rkreise=SVGKreis({r:rkreise})}}function secondNavActionTransformation(t){if("A"===t.target.tagName){for(var e=t.currentTarget.getElementsByTagName("a"),n=0,r=e.length;r>n;n+=1)if("selected"===e[n].className){e[n].className="";break}t.target.className="selected",t.currentTarget.setAttribute("transformation",t.target.getAttribute("matrix")),document.getElementById("message_trans").textContent=t.target.getAttribute("message"),rtransformation=SVGTransformation({r:rtransformation})}}function secondNavActionAnimation(t){t.currentTarget.getElementsByTagName("a");t.target.className="selected"===t.target.className?"":"selected",ranimation=SVGAnimation({r:ranimation})}var rvieleck=null,rtransformation=null,rkreise=null,ranimation=null;window.onload=function(){SVGDiagramm(),rkreise=SVGKreis({id:"SVGKreis",x:620,y:420}),rvieleck=SVGVielEck({id:"SVGVieleck",x:620,y:420}),SVGKurve(),SVGKurve2(),rtransformation=SVGTransformation({id:"SVGTransformation",x:620,y:420}),ranimation=SVGAnimation({id:"SVGAnimation",x:620,y:420});var t=document.getElementById("buttonanimation");t.addEventListener?t.addEventListener("click",buttonActionanimation):t.attachEvent("click",buttonActionanimation),t=document.getElementById("buttontransformation"),t.addEventListener?t.addEventListener("click",buttonActiontransformation):t.attachEvent("click",buttonActiontransformation),t=document.getElementById("buttonkreis"),t.addEventListener?t.addEventListener("click",buttonActionkreis):t.attachEvent("click",buttonActionkreis),t=document.getElementById("buttonvieleck"),t.addEventListener?t.addEventListener("click",buttonActionvieleck):t.attachEvent("click",buttonActionvieleck),t=document.getElementById("buttonkurve2"),t.addEventListener?t.addEventListener("click",buttonActionkurve2):t.attachEvent("click",buttonActionkurve2),t=document.getElementById("buttonkurve1"),t.addEventListener?t.addEventListener("click",buttonActionkurve):t.attachEvent("click",buttonActionkurve),t=document.getElementById("buttonvideo"),t.addEventListener?t.addEventListener("click",buttonActionvideo):t.attachEvent("click",buttonActionvideo);var e=document.getElementById("choose-figure");e.addEventListener?e.addEventListener("click",secondNavAction):e.attachEvent("click",secondNavAction),e=document.getElementById("choose-AnzKreise"),e.addEventListener?e.addEventListener("click",secondNavActionKreise):e.attachEvent("click",secondNavActionKreise),e=document.getElementById("choose-transformation"),e.addEventListener?e.addEventListener("click",secondNavActionTransformation):e.attachEvent("click",secondNavActionTransformation),e=document.getElementById("choose-animation"),e.addEventListener?e.addEventListener("click",secondNavActionAnimation):e.attachEvent("click",secondNavActionAnimation)};