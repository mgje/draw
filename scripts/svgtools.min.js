window.onload=function(){"use strict";var t=null,e=null,n=null,r=null,a=null,i=null,o=null,s=null,c=null,u=function(t,e){this.update(t-(this.dx||0),e-(this.dy||0)),this.dx=t,this.dy=e},d=function(){this.dx=this.dy=0},l=function(t,e,n){var r=document.createElementNS(t.namespaceURI,e);for(var a in n)r.setAttribute(a,n[a]);return t.appendChild(r),r},m=function(t){return t.outerHTML||function(t){var e,n=document.createElement("div");return n.appendChild(t.cloneNode(!0)),e=n.innerHTML,n=null,e}(t)},h=function(t,e,n){var r=S('<svg height="420" version="1.1" width="620" xmlns="http://www.w3.org/2000/svg">').escapeHTML().s,a=t.getById(e).node;r+=S(m(a)).escapeHTML().s,r+=S("</svg>").escapeHTML().s,document.getElementById(n).innerHTML=r},g=function(t,e){for(var n=S('<svg height="420" width="620" xmlns="http://www.w3.org/2000/svg" version="1.1">').escapeHTML().s,r=0,a=t.length;a>r;r+=1)n+=S(m(t[r].node)).escapeHTML().s;n+=S("</svg>").escapeHTML().s,document.getElementById(e).innerHTML=n},v=function(t,e){for(var n=S('<svg height="420" width="620" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">').escapeHTML().s,r=0,a=t.length;a>r;r+=1)n+=S(m(t[r].node)).escapeHTML().s;n+=S("</svg>").escapeHTML().s,document.getElementById(e).innerHTML=n},p=function(t){var e="object"==typeof t.r?t.r:null,n="string"==typeof t.id?t.id:null,r="number"==typeof t.x?t.x:null,a="number"==typeof t.y?t.y:null,i={fill:"none","stroke-width":4,stroke:"hsb(.9, .75, .75)"},o={fill:"rgba(255, 255, 255,.5)",stroke:"none"},s=null,c=20,l=-1,m=-1,h=-1,v=null,p="",f=[],y=[],x=null,b=[];"string"==typeof n&&"number"==typeof r&&"number"==typeof a&&(e=new Raphael(n),e.setViewBox(0,0,r,a,!1));for(var w=e.canvas.childNodes;w.length>2;)e.canvas.removeChild(w[2]);p=document.getElementById("choose-AnzKreise").getAttribute("data-kreise"),c=parseInt(p);for(var E=function(t,e){var n=this.attr("cx")+t,r=this.attr("cy")+e,a=-b[this.idnum].attr("r")+r;this.attr({cx:n,cy:r}),b[this.idnum].attr({cx:n,cy:r}),y[this.idnum].attr({cx:n,cy:a}),g(b,"SVGSourceKreis")},k=function(t,e){var n=this.attr("cy")+e,r=b[this.idnum].attr("cy"),a=r-n;b[this.idnum].attr({r:a}),this.attr({cy:n}),g(b,"SVGSourceKreis")},S=0;c>S;S+=1)m=Math.round(300*Math.random())+150,h=Math.round(300*Math.random())+70,l=Math.round(70*Math.random())+30,i.stroke="hsb("+.05*S+"0.3, .75, .75)",s=e.circle(m,h,l).attr(i),s.node.removeAttributeNode(s.node.getAttributeNode("style")),b.push(s),v=e.circle(m,h,9).attr(o),v.idnum=S,f.push(v),v.update=E,v=e.circle(m,h-l,9).attr(o),v.idnum=S,y.push(v),v.update=k;return x=e.set(f),x.drag(u,d),x=e.set(y),x.drag(u,d),g(b,"SVGSourceKreis"),e},f=function(t){var e="object"==typeof t.r?t.r:null,n="string"==typeof t.id?t.id:null,r="number"==typeof t.x?t.x:null,a="number"==typeof t.y?t.y:null,i=[],o={fill:"rgba(255, 255, 255,.5)",stroke:"none"},s=[],c=null,l=null,m=0,g=[];"string"==typeof n&&"number"==typeof r&&"number"==typeof a&&(e=new Raphael(n),e.setViewBox(0,0,r,a,!1));for(var v=e.canvas.childNodes;v.length>2;)e.canvas.removeChild(v[2]);for(var p=document.getElementById("choose-figure").getAttribute("data-ecken"),f=parseInt(p),y=0;f>y;y+=1){var x={};x.x=Math.round(200*Math.cos(2*Math.PI/f*y)+300),x.y=Math.round(200*Math.sin(2*Math.PI/f*y)+210),i.push(x)}for(y=0,m=i.length;m>y;y+=1)g.push(0===y?"M":"L"),g.push(i[y].x),g.push(i[y].y);g.push("Z"),c=e.path(g).attr({stroke:"hsb(.6, .75, .75)","stroke-width":4,"stroke-linecap":"round"});var b=function(t,n){var r=this.attr("cx")+t,a=this.attr("cy")+n;this.attr({cx:r,cy:a}),g[3*this.idnum+1]=r,g[3*this.idnum+2]=a,c.attr({path:g}),h(e,c.id,"SVGSourceVieleck")};for(y=0,m=i.length;m>y;y+=1){var w=e.circle(i[y].x,i[y].y,9).attr(o);s.push(w),w.idnum=y,w.update=b}return l=e.set(s),l.drag(u,d),c.node.removeAttributeNode(c.node.getAttributeNode("style")),h(e,c.id,"SVGSourceVieleck"),e},y=function(){var t=new Raphael("SVGDiagramm");t.setViewBox(0,0,620,420,!1);for(var e=[{x:50,y:250},{x:100,y:100},{x:150,y:150},{x:200,y:140},{x:250,y:250},{x:300,y:200},{x:350,y:180},{x:400,y:230}],n=null,r=["M",e[0].x,e[0].y,"R"],a={fill:"#fff",stroke:"none"},i=t.set(),o=0,s=e.length;s>o;o+=1){var c=e[o];i.push(t.circle(c.x,c.y,5))}for(i.attr(a),o=1,s=e.length;s>o;o+=1)r.push(e[o].x),r.push(e[o].y);return n=t.path(r).attr({stroke:"hsb(.6, .75, .75)","stroke-width":4,"stroke-linecap":"round"}),n.node.removeAttributeNode(n.node.getAttributeNode("style")),h(t,n.id,"SVGSourceDiagramm"),t},x=function(){function t(t,r,a,i,o,s,c,l,m){var g=[["M",t,r],["C",a,i,o,s,c,l]],v=[["M",t,r],["L",a,i],["M",o,s],["L",c,l]],p=e.path(g).attr({stroke:m||Raphael.getColor(),"stroke-width":4,"stroke-linecap":"round"}),f=e.set(e.path(v).attr({stroke:"#ccc","stroke-dasharray":". "}),e.circle(t,r,9).attr(n),e.circle(a,i,9).attr(n),e.circle(o,s,9).attr(n),e.circle(c,l,9).attr(n));p.node.removeAttributeNode(p.node.getAttributeNode("style")),h(e,p.id,"SVGSourceKurve"),f[1].update=function(t,n){var r=this.attr("cx")+t,a=this.attr("cy")+n;this.attr({cx:r,cy:a}),g[0][1]=r,g[0][2]=a,v[0][1]=r,v[0][2]=a,f[2].update(t,n),h(e,p.id,"SVGSourceKurve")},f[2].update=function(t,n){var r=this.attr("cx")+t,a=this.attr("cy")+n;this.attr({cx:r,cy:a}),g[1][1]=r,g[1][2]=a,v[1][1]=r,v[1][2]=a,p.attr({path:g}),f[0].attr({path:v}),h(e,p.id,"SVGSourceKurve")},f[3].update=function(t,n){var r=this.attr("cx")+t,a=this.attr("cy")+n;this.attr({cx:r,cy:a}),g[1][3]=r,g[1][4]=a,v[2][1]=r,v[2][2]=a,p.attr({path:g}),f[0].attr({path:v}),h(e,p.id,"SVGSourceKurve")},f[4].update=function(t,n){var r=this.attr("cx")+t,a=this.attr("cy")+n;this.attr({cx:r,cy:a}),g[1][5]=r,g[1][6]=a,v[3][1]=r,v[3][2]=a,f[3].update(t,n),h(e,p.id,"SVGSourceKurve")},f.drag(u,d)}var e=new Raphael("SVGKurve");e.setViewBox(0,0,620,420,!1);var n={fill:"rgba(255, 255, 255,.5)",stroke:"none"};return t(70,100,261,62,237,289,486,259,"hsb(0, .75, .75)"),e},b=function(){function t(t,r,a,i,o,s,c,l,m,g,v,p,f,y,x){var b=[["M",t,r],["C",a,i,o,s,c,l,m,g,v,p,f,y]],w=[["M",t,r],["L",a,i],["M",o,s],["L",c,l],["M",c,l],["L",m,g],["M",v,p],["L",f,y]],E=e.path(b).attr({stroke:x||Raphael.getColor(),"stroke-width":4,"stroke-linecap":"round"}),k=e.set(e.path(w).attr({stroke:"#ccc","stroke-dasharray":". "}),e.circle(t,r,9).attr(n),e.circle(a,i,9).attr(n),e.circle(o,s,9).attr(n),e.circle(c,l,9).attr(n),e.circle(m,g,9).attr(n),e.circle(v,p,9).attr(n),e.circle(f,y,9).attr(n));E.node.removeAttributeNode(E.node.getAttributeNode("style")),h(e,E.id,"SVGSourceKurve2"),k[1].update=function(t,n){var r=this.attr("cx")+t,a=this.attr("cy")+n;this.attr({cx:r,cy:a}),b[0][1]=r,b[0][2]=a,w[0][1]=r,w[0][2]=a,k[2].update(t,n),h(e,E.id,"SVGSourceKurve2")},k[2].update=function(t,n){var r=this.attr("cx")+t,a=this.attr("cy")+n;this.attr({cx:r,cy:a}),b[1][1]=r,b[1][2]=a,w[1][1]=r,w[1][2]=a,E.attr({path:b}),k[0].attr({path:w}),h(e,E.id,"SVGSourceKurve2")},k[3].update=function(t,n){var r=this.attr("cx")+t,a=this.attr("cy")+n;this.attr({cx:r,cy:a}),b[1][3]=r,b[1][4]=a,w[2][1]=r,w[2][2]=a,E.attr({path:b}),k[0].attr({path:w}),h(e,E.id,"SVGSourceKurve2")},k[4].update=function(t,n){var r=this.attr("cx")+t,a=this.attr("cy")+n;this.attr({cx:r,cy:a}),b[1][5]=r,b[1][6]=a,w[3][1]=r,w[3][2]=a,w[4][1]=r,w[4][2]=a,k[3].update(t,n),k[5].update(t,n),h(e,E.id,"SVGSourceKurve2")},k[5].update=function(t,n){var r=this.attr("cx")+t,a=this.attr("cy")+n;this.attr({cx:r,cy:a}),b[1][7]=r,b[1][8]=a,w[5][1]=r,w[5][2]=a,E.attr({path:b}),k[0].attr({path:w}),h(e,E.id,"SVGSourceKurve2")},k[6].update=function(t,n){var r=this.attr("cx")+t,a=this.attr("cy")+n;this.attr({cx:r,cy:a}),b[1][9]=r,b[1][10]=a,w[6][1]=r,w[6][2]=a,E.attr({path:b}),k[0].attr({path:w}),h(e,E.id,"SVGSourceKurve2")},k[7].update=function(t,n){var r=this.attr("cx")+t,a=this.attr("cy")+n;this.attr({cx:r,cy:a}),b[1][11]=r,b[1][12]=a,w[7][1]=r,w[7][2]=a,k[6].update(t,n),h(e,E.id,"SVGSourceKurve2")},k.drag(u,d)}var e=new Raphael("SVGKurve2");e.setViewBox(0,0,620,420,!1);var n={fill:"rgba(255, 255, 255,.5)",stroke:"none"};return t(70,100,261,62,75,349,271,220,402,122,320,345,470,278,"hsb(.6, .75, .75)"),e},w=function(t){var e="object"==typeof t.r?t.r:null,n="string"==typeof t.id?t.id:null,r="number"==typeof t.x?t.x:null,a="number"==typeof t.y?t.y:null,i=null,o=null,s=null,c=null,l=null,m=180,h=110,g=166,p=205,f={fill:"#fff",stroke:"none"},y=0,x=[];for("string"==typeof n&&"number"==typeof r&&"number"==typeof a&&(e=new Raphael(n),e.setViewBox(0,0,r,a,!1)),c=e.canvas.childNodes;c.length>2;)e.canvas.removeChild(c[2]);if(e.path([["M",150,360],["L",450,360]]).attr({stroke:"#ccc","stroke-dasharray":". "}),o=e.image("http://mgje.github.io/draw/images/biber.png",m,h,g,p),o.node.removeAttributeNode(o.node.getAttributeNode("preserveAspectRatio")),i=document.getElementById("choose-transformation").getAttribute("transformation"),x.push(o),"n"!==i){s=o.clone(),s.node.removeAttributeNode(s.node.getAttributeNode("style")),s.node.removeAttributeNode(s.node.getAttributeNode("preserveAspectRatio")),s.transform(i),x.push(s),o.attr({opacity:.3});var b=i.split(",");y="T"===b[0][0]?parseFloat(b[0].substring(1,b[0].length))/2+300:"R"===b[0][0]?parseFloat(b[0].substring(1,b[0].length))+300:"m"===b[0][0]?319.5:300,l=e.set(e.circle(y,360,5).attr(f));{document.getElementById("choose-transformation").getAttribute("transformation")}l[0].update=function(t){var e=null,n=null,r=null;"T"===i[0]&&(r=this.attr("cx")+t,450>r&&r>150&&this.attr({cx:r}),n="T"+2*(r-300)+",0",s.transform(n),e="Verschieben um "+2*(r-300)+" Pixel",document.getElementById("message_trans").textContent=e),"R"===i[0]&&(r=this.attr("cx")+t,450>r&&r>150&&this.attr({cx:r}),n="R"+(r-300),s.transform(n),e="Drehen um "+(r-300)+" Grad",document.getElementById("message_trans").textContent=e),"S-"===i.substring(0,2)&&(r=this.attr("cx")+t,450>r&&r>150&&this.attr({cx:r}),n="S-1.0,1.0,T"+(r-300)+",0",s.transform(n),e="Horizontal spiegeln an x="+(r-300),document.getElementById("message_trans").textContent=e),"S1"===i.substring(0,2)&&(r=this.attr("cx")+t,450>r&&r>150&&this.attr({cx:r}),n="S1.0,-1.0,T0,"+(r-300),s.transform(n),e="Horizontal spiegeln an y="+(300-r),document.getElementById("message_trans").textContent=e),"m, 1, 0, "===i.substring(0,9)&&(r=this.attr("cx")+t,450>r&&r>150&&this.attr({cx:r}),n="m, 1, 0,"+(r-300)/150+", 1, 0, 0",s.transform(n),e="Verzerren um sx="+(300-r)/150,document.getElementById("message_trans").textContent=e),"m, 1, 0.1"===i.substring(0,9)&&(r=this.attr("cx")+t,450>r&&r>150&&this.attr({cx:r}),n="m, 1, "+(r-300)/150+",0, 1, 0, 0",s.transform(n),e="Verzerren um sy="+(300-r)/150,document.getElementById("message_trans").textContent=e),v(x,"SVGSourceTransformation")},l.drag(u,d)}return o.node.removeAttributeNode(o.node.getAttributeNode("style")),v(x,"SVGSourceTransformation"),e},E=function(t){var e="object"==typeof t.r?t.r:null,n="string"==typeof t.id?t.id:null,r="number"==typeof t.x?t.x:null,a="number"==typeof t.y?t.y:null,i=null,o=null,s=70,c=130,u=166,d=205,m=0,h="",g=[];for("string"==typeof n&&"number"==typeof r&&"number"==typeof a&&(e=new Raphael(n),e.setViewBox(0,0,r,a,!1)),o=e.canvas.childNodes;o.length>2;)e.canvas.removeChild(o[2]);return i=e.image("http://mgje.github.io/draw/images/biber.png",s,c,u,d),h=document.getElementById("ani_rechts").className,"selected"===h&&l(i.node,"animate",{attributeType:"XML",begin:"click",attributeName:"x",from:s,to:"630",dur:"1.3s",fill:"freeze"}),h=document.getElementById("ani_unten").className,"selected"===h&&l(i.node,"animate",{attributeType:"XML",begin:"click",attributeName:"y",from:c,to:"630",dur:"2.3s",fill:"freeze"}),h=document.getElementById("ani_dicker").className,"selected"===h&&l(i.node,"animate",{attributeType:"XML",begin:"click",attributeName:"width",from:u,to:2.4*u,dur:"3.3s",fill:"freeze"}),h=document.getElementById("ani_kleiner").className,"selected"===h&&l(i.node,"animate",{attributeType:"XML",begin:"click",attributeName:"height",from:d,to:d/3,dur:"3.3s",fill:"freeze"}),h=document.getElementById("ani_rot").className,"selected"===h&&l(i.node,"animateTransform",{begin:"click",attributeType:"XML",attributeName:"transform",type:"rotate",from:"0 153 232",to:"359.9 153 232",repeatCount:"indefinite",additive:"sum",dur:"3.3s",fill:"freeze"}),h=document.getElementById("ani_pfad").className,"selected"===h&&l(i.node,"animateMotion",{path:"m-50,0 q150,150, 260,0 q150,-240 260,0",repeatCount:"indefinite",begin:"click",dur:"2.3s",fill:"freeze"}),g.push(i),m=i.node.getAttributeNode("style"),"string"==typeof m&&i.node.removeAttributeNode(m),v(g,"SVGSourceAnimation"),e},k=function(t){t.preventDefault&&t.preventDefault(),t.returnValue=!1;{var e=document.getElementById("SVGSourceAnimation").textContent,n="data:image/svg+xml,"+encodeURIComponent(e);window.open(n,"animation.svg")}},N=function(t){t.preventDefault&&t.preventDefault(),t.returnValue=!1;{var e=document.getElementById("SVGSourceTransformation").textContent,n="data:image/svg+xml,"+encodeURIComponent(e);window.open(n,"transformation.svg")}},V=function(t){t.preventDefault&&t.preventDefault(),t.returnValue=!1;{var e=document.getElementById("SVGSourceKreis").textContent,n="data:image/svg+xml,"+encodeURIComponent(e);window.open(n,"kreis.svg")}},B=function(t){t.preventDefault&&t.preventDefault(),t.returnValue=!1;var e='<svg height="420" version="1.1" width="620" xmlns="http://www.w3.org/2000/svg">';e+=m(document.getElementById("SVGVieleck").getElementsByTagName("path")[0]),e+="</svg>";{var n="data:image/svg+xml,"+encodeURIComponent(e);window.open(n,"vieleck.svg")}},I=function(t){t.preventDefault&&t.preventDefault(),t.returnValue=!1;var e='<svg height="420" version="1.1" width="620" xmlns="http://www.w3.org/2000/svg">';e+=m(document.getElementById("SVGKurve2").getElementsByTagName("path")[0]),e+="</svg>";{var n="data:image/svg+xml,"+encodeURIComponent(e);window.open(n,"kurve2.svg")}},L=function(t){t.preventDefault&&t.preventDefault(),t.returnValue=!1;var e='<svg height="420" version="1.1" width="620" xmlns="http://www.w3.org/2000/svg">';e+=m(document.getElementById("SVGKurve").getElementsByTagName("path")[0]),e+="</svg>";{var n="data:image/svg+xml,"+encodeURIComponent(e);window.open(n,"kurve.svg")}},M=function(t){t.preventDefault&&t.preventDefault(),t.returnValue=!1;var e=document.getElementById("video1"),n=document.getElementById("buttonvideo");e.paused?(e.play(),n.textContent="||  Pause"):(e.pause(),n.textContent="> Start")},T=function(e){for(var n=e.currentTarget.getElementsByTagName("a"),r=0,a=n.length;a>r;r+=1)if("selected"===n[r].className){n[r].className="";break}e.target.className="selected",e.currentTarget.setAttribute("data-ecken",e.target.getAttribute("anz-ecken")),t=new f({r:t})},A=function(t){if("A"===t.target.tagName){for(var e=t.currentTarget.getElementsByTagName("a"),r=0,a=e.length;a>r;r+=1)if("selected"===e[r].className){e[r].className="";break}t.target.className="selected",t.currentTarget.setAttribute("data-kreise",t.target.getAttribute("anz-kreis")),n=new p({r:n})}},G=function(t){if("A"===t.target.tagName){for(var n=t.currentTarget.getElementsByTagName("a"),r=0,a=n.length;a>r;r+=1)if("selected"===n[r].className){n[r].className="";break}t.target.className="selected",t.currentTarget.setAttribute("transformation",t.target.getAttribute("matrix")),document.getElementById("message_trans").textContent=t.target.getAttribute("message"),e=new w({r:e})}},C=function(t){t.currentTarget.getElementsByTagName("a");t.target.className="selected"===t.target.className?"":"selected",r=new E({r:r})};n=new p({id:"SVGKreis",x:620,y:420}),t=new f({id:"SVGVieleck",x:620,y:420}),a=new x,i=new b,e=new w({id:"SVGTransformation",x:620,y:420}),r=new E({id:"SVGAnimation",x:620,y:420}),o=new y,s=document.getElementById("buttonanimation"),s.addEventListener?s.addEventListener("click",k):s.attachEvent("click",k),s=document.getElementById("buttontransformation"),s.addEventListener?s.addEventListener("click",N):s.attachEvent("click",N),s=document.getElementById("buttonkreis"),s.addEventListener?s.addEventListener("click",V):s.attachEvent("click",V),s=document.getElementById("buttonvieleck"),s.addEventListener?s.addEventListener("click",B):s.attachEvent("click",B),s=document.getElementById("buttonkurve2"),s.addEventListener?s.addEventListener("click",I):s.attachEvent("click",I),s=document.getElementById("buttonkurve1"),s.addEventListener?s.addEventListener("click",L):s.attachEvent("click",L),s=document.getElementById("buttonvideo"),s.addEventListener?s.addEventListener("click",M):s.attachEvent("click",M),c=document.getElementById("choose-figure"),c.addEventListener?c.addEventListener("click",T):c.attachEvent("click",T),c=document.getElementById("choose-AnzKreise"),c.addEventListener?c.addEventListener("click",A):c.attachEvent("click",A),c=document.getElementById("choose-transformation"),c.addEventListener?c.addEventListener("click",G):c.attachEvent("click",G),c=document.getElementById("choose-animation"),c.addEventListener?c.addEventListener("click",C):c.attachEvent("click",C)};